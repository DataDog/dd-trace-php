[[
  {
    "name": "symfony.request",
    "service": "symfony_messenger_test",
    "resource": "lucky_number",
    "trace_id": 0,
    "span_id": 1,
    "parent_id": 14608482063160030147,
    "type": "web",
    "meta": {
      "_dd.p.dm": "-0",
      "_dd.p.tid": "66962d4100000000",
      "component": "symfony",
      "http.method": "GET",
      "http.status_code": "200",
      "http.url": "http://localhost:9999/lucky/number",
      "runtime-id": "14484ba5-1a23-44f5-bced-0066bf1199d3",
      "span.kind": "server",
      "symfony.route.action": "App\\Controller\\LuckyController@number",
      "symfony.route.name": "lucky_number"
    },
    "metrics": {
      "_sampling_priority_v1": 1.0
    }
  },
     {
       "name": "symfony.httpkernel.kernel.handle",
       "service": "symfony_messenger_test",
       "resource": "App\\Kernel",
       "trace_id": 0,
       "span_id": 2,
       "parent_id": 1,
       "type": "web",
       "meta": {
         "component": "symfony",
         "span.kind": "server"
       }
     },
        {
          "name": "symfony.httpkernel.kernel.boot",
          "service": "symfony_messenger_test",
          "resource": "App\\Kernel",
          "trace_id": 0,
          "span_id": 4,
          "parent_id": 2,
          "type": "web",
          "meta": {
            "component": "symfony"
          }
        },
        {
          "name": "symfony.kernel.handle",
          "service": "symfony_messenger_test",
          "resource": "symfony.kernel.handle",
          "trace_id": 0,
          "span_id": 5,
          "parent_id": 2,
          "type": "web",
          "meta": {
            "component": "symfony"
          }
        },
           {
             "name": "symfony.kernel.request",
             "service": "symfony_messenger_test",
             "resource": "symfony.kernel.request",
             "trace_id": 0,
             "span_id": 6,
             "parent_id": 5,
             "type": "web",
             "meta": {
               "component": "symfony"
             }
           },
           {
             "name": "symfony.kernel.controller",
             "service": "symfony_messenger_test",
             "resource": "symfony.kernel.controller",
             "trace_id": 0,
             "span_id": 7,
             "parent_id": 5,
             "type": "web",
             "meta": {
               "component": "symfony"
             }
           },
           {
             "name": "symfony.kernel.controller_arguments",
             "service": "symfony_messenger_test",
             "resource": "symfony.kernel.controller_arguments",
             "trace_id": 0,
             "span_id": 8,
             "parent_id": 5,
             "type": "web",
             "meta": {
               "component": "symfony"
             }
           },
           {
             "name": "symfony.controller",
             "service": "symfony_messenger_test",
             "resource": "App\\Controller\\LuckyController::number",
             "trace_id": 0,
             "span_id": 9,
             "parent_id": 5,
             "type": "web",
             "meta": {
               "component": "symfony"
             }
           },
              {
                "name": "symfony.messenger.dispatch",
                "service": "symfony_messenger_test",
                "resource": "App\\Message\\LuckyNumberNotification -> async",
                "trace_id": 0,
                "span_id": 12,
                "parent_id": 9,
                "type": "queue",
                "meta": {
                  "component": "symfonymessenger",
                  "messaging.destination": "async",
                  "messaging.destination_kind": "queue",
                  "messaging.message_id": "1721118018145-0",
                  "messaging.symfony.bus": "messenger.bus.default",
                  "messaging.symfony.message": "App\\Message\\LuckyNumberNotification",
                  "messaging.symfony.sender": "Symfony\\Component\\Messenger\\Bridge\\Redis\\Transport\\RedisTransport",
                  "messaging.system": "symfony"
                },
                "metrics": {
                  "messaging.symfony.stamps.DDTrace\\Integrations\\SymfonyMessenger\\DDTraceStamp": 1.0,
                  "messaging.symfony.stamps.Symfony\\Component\\Messenger\\Stamp\\BusNameStamp": 1.0,
                  "messaging.symfony.stamps.Symfony\\Component\\Messenger\\Stamp\\SentStamp": 1.0,
                  "messaging.symfony.stamps.Symfony\\Component\\Messenger\\Stamp\\TransportMessageIdStamp": 1.0
                }
              },
                 {
                   "name": "symfony.messenger.middleware",
                   "service": "symfony_messenger_test",
                   "resource": "Symfony\\Component\\Messenger\\Middleware\\TraceableMiddleware",
                   "trace_id": 0,
                   "span_id": 13,
                   "parent_id": 12,
                   "type": "queue",
                   "meta": {
                     "component": "symfonymessenger",
                     "messaging.destination_kind": "queue",
                     "messaging.symfony.message": "App\\Message\\LuckyNumberNotification",
                     "messaging.system": "symfony"
                   }
                 },
                    {
                      "name": "symfony.messenger.middleware",
                      "service": "symfony_messenger_test",
                      "resource": "Symfony\\Component\\Messenger\\Middleware\\AddBusNameStampMiddleware",
                      "trace_id": 0,
                      "span_id": 14,
                      "parent_id": 13,
                      "type": "queue",
                      "meta": {
                        "component": "symfonymessenger",
                        "messaging.destination_kind": "queue",
                        "messaging.symfony.message": "App\\Message\\LuckyNumberNotification",
                        "messaging.system": "symfony"
                      }
                    },
                       {
                         "name": "symfony.messenger.middleware",
                         "service": "symfony_messenger_test",
                         "resource": "Symfony\\Component\\Messenger\\Middleware\\RejectRedeliveredMessageMiddleware",
                         "trace_id": 0,
                         "span_id": 15,
                         "parent_id": 14,
                         "type": "queue",
                         "meta": {
                           "component": "symfonymessenger",
                           "messaging.destination_kind": "queue",
                           "messaging.symfony.bus": "messenger.bus.default",
                           "messaging.symfony.message": "App\\Message\\LuckyNumberNotification",
                           "messaging.system": "symfony"
                         }
                       },
                          {
                            "name": "symfony.messenger.middleware",
                            "service": "symfony_messenger_test",
                            "resource": "Symfony\\Component\\Messenger\\Middleware\\DispatchAfterCurrentBusMiddleware",
                            "trace_id": 0,
                            "span_id": 16,
                            "parent_id": 15,
                            "type": "queue",
                            "meta": {
                              "component": "symfonymessenger",
                              "messaging.destination_kind": "queue",
                              "messaging.symfony.bus": "messenger.bus.default",
                              "messaging.symfony.message": "App\\Message\\LuckyNumberNotification",
                              "messaging.system": "symfony"
                            }
                          },
                             {
                               "name": "symfony.messenger.middleware",
                               "service": "symfony_messenger_test",
                               "resource": "Symfony\\Component\\Messenger\\Middleware\\FailedMessageProcessingMiddleware",
                               "trace_id": 0,
                               "span_id": 17,
                               "parent_id": 16,
                               "type": "queue",
                               "meta": {
                                 "component": "symfonymessenger",
                                 "messaging.destination_kind": "queue",
                                 "messaging.symfony.bus": "messenger.bus.default",
                                 "messaging.symfony.message": "App\\Message\\LuckyNumberNotification",
                                 "messaging.system": "symfony"
                               }
                             },
                                {
                                  "name": "symfony.messenger.middleware",
                                  "service": "symfony_messenger_test",
                                  "resource": "Symfony\\Component\\Messenger\\Middleware\\SendMessageMiddleware",
                                  "trace_id": 0,
                                  "span_id": 18,
                                  "parent_id": 17,
                                  "type": "queue",
                                  "meta": {
                                    "component": "symfonymessenger",
                                    "messaging.destination_kind": "queue",
                                    "messaging.symfony.bus": "messenger.bus.default",
                                    "messaging.symfony.message": "App\\Message\\LuckyNumberNotification",
                                    "messaging.system": "symfony"
                                  }
                                },
                                   {
                                     "name": "symfony.Symfony\\Component\\Messenger\\Event\\SendMessageToTransportsEvent",
                                     "service": "symfony_messenger_test",
                                     "resource": "symfony.Symfony\\Component\\Messenger\\Event\\SendMessageToTransportsEvent",
                                     "trace_id": 0,
                                     "span_id": 19,
                                     "parent_id": 18,
                                     "type": "web",
                                     "meta": {
                                       "component": "symfony"
                                     }
                                   },
                                   {
                                     "name": "symfony.messenger.send",
                                     "service": "symfony_messenger_test",
                                     "resource": "App\\Message\\LuckyNumberNotification -> async",
                                     "trace_id": 0,
                                     "span_id": 20,
                                     "parent_id": 18,
                                     "type": "queue",
                                     "meta": {
                                       "component": "symfonymessenger",
                                       "messaging.destination": "async",
                                       "messaging.destination_kind": "queue",
                                       "messaging.message_id": "1721118018145-0",
                                       "messaging.operation": "send",
                                       "messaging.symfony.bus": "messenger.bus.default",
                                       "messaging.symfony.message": "App\\Message\\LuckyNumberNotification",
                                       "messaging.symfony.sender": "Symfony\\Component\\Messenger\\Bridge\\Redis\\Transport\\RedisTransport",
                                       "messaging.system": "symfony",
                                       "span.kind": "producer"
                                     },
                                     "metrics": {
                                       "messaging.symfony.stamps.DDTrace\\Integrations\\SymfonyMessenger\\DDTraceStamp": 1.0,
                                       "messaging.symfony.stamps.Symfony\\Component\\Messenger\\Stamp\\BusNameStamp": 1.0,
                                       "messaging.symfony.stamps.Symfony\\Component\\Messenger\\Stamp\\SentStamp": 1.0,
                                       "messaging.symfony.stamps.Symfony\\Component\\Messenger\\Stamp\\TransportMessageIdStamp": 1.0
                                     }
                                   },
           {
             "name": "symfony.kernel.response",
             "service": "symfony_messenger_test",
             "resource": "symfony.kernel.response",
             "trace_id": 0,
             "span_id": 10,
             "parent_id": 5,
             "type": "web",
             "meta": {
               "component": "symfony"
             }
           },
           {
             "name": "symfony.kernel.finish_request",
             "service": "symfony_messenger_test",
             "resource": "symfony.kernel.finish_request",
             "trace_id": 0,
             "span_id": 11,
             "parent_id": 5,
             "type": "web",
             "meta": {
               "component": "symfony"
             }
           },
     {
       "name": "symfony.kernel.terminate",
       "service": "symfony_messenger_test",
       "resource": "symfony.kernel.terminate",
       "trace_id": 0,
       "span_id": 3,
       "parent_id": 1,
       "type": "web",
       "meta": {
         "component": "symfony"
       }
     }]]
