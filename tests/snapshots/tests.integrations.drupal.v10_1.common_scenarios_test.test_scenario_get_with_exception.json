[[
  {
    "name": "drupal.request",
    "service": "test_drupal_101",
    "resource": "error",
    "trace_id": 0,
    "span_id": 1,
    "parent_id": 4458984828784253894,
    "type": "web",
    "error": 1,
    "meta": {
      "_dd.p.dm": "-0",
      "component": "drupal",
      "error.message": "Controller error",
      "error.stack": "#0 [internal function]: Drupal\\datadog\\Controller\\DatadogController->error()\n#1 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/EventSubscriber/EarlyRenderingControllerWrapperSubscriber.php(123): call_user_func_array(Array, Array)\n#2 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/Render/Renderer.php(592): Drupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber->Drupal\\Core\\EventSubscriber\\{closure}()\n#3 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/EventSubscriber/EarlyRenderingControllerWrapperSubscriber.php(124): Drupal\\Core\\Render\\Renderer->executeInRenderContext(Object(Drupal\\Core\\Render\\RenderContext), Object(Closure))\n#4 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/EventSubscriber/EarlyRenderingControllerWrapperSubscriber.php(97): Drupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber->wrapControllerExecutionInRenderContext(Array, Array)\n#5 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/vendor/symfony/http-kernel/HttpKernel.php(182): Drupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber->Drupal\\Core\\EventSubscriber\\{closure}()\n#6 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/vendor/symfony/http-kernel/HttpKernel.php(76): Symfony\\Component\\HttpKernel\\HttpKernel->handleRaw(Object(Symfony\\Component\\HttpFoundation\\Request), 1)\n#7 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/Session.php(58): Symfony\\Component\\HttpKernel\\HttpKernel->handle(Object(Symfony\\Component\\HttpFoundation\\Request), 1, true)\n#8 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/KernelPreHandle.php(48): Drupal\\Core\\StackMiddleware\\Session->handle(Object(Symfony\\Component\\HttpFoundation\\Request), 1, true)\n#9 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/ReverseProxyMiddleware.php(48): Drupal\\Core\\StackMiddleware\\KernelPreHandle->handle(Object(Symfony\\Component\\HttpFoundation\\Request), 1, true)\n#10 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/NegotiationMiddleware.php(51): Drupal\\Core\\StackMiddleware\\ReverseProxyMiddleware->handle(Object(Symfony\\Component\\HttpFoundation\\Request), 1, true)\n#11 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/StackedHttpKernel.php(51): Drupal\\Core\\StackMiddleware\\NegotiationMiddleware->handle(Object(Symfony\\Component\\HttpFoundation\\Request), 1, true)\n#12 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/DrupalKernel.php(704): Drupal\\Core\\StackMiddleware\\StackedHttpKernel->handle(Object(Symfony\\Component\\HttpFoundation\\Request), 1, true)\n#13 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/index.php(19): Drupal\\Core\\DrupalKernel->handle(Object(Symfony\\Component\\HttpFoundation\\Request))\n#14 {main}",
      "error.type": "Exception",
      "http.method": "GET",
      "http.status_code": "500",
      "http.url": "http://localhost:9999/error?key=value&<redacted>",
      "runtime-id": "9909a648-1886-44d2-b341-b1ddc0f62f34",
      "span.kind": "server",
      "symfony.route.action": "Drupal\\datadog\\Controller\\DatadogController@error",
      "symfony.route.name": "error"
    },
    "metrics": {
      "_sampling_priority_v1": 1.0
    }
  },
     {
       "name": "drupal.kernel.handle",
       "service": "test_drupal_101",
       "resource": "drupal.kernel.handle",
       "trace_id": 0,
       "span_id": 2,
       "parent_id": 1,
       "type": "web",
       "meta": {
         "component": "drupal",
         "span.kind": "server"
       }
     },
        {
          "name": "drupal.kernel.boot",
          "service": "test_drupal_101",
          "resource": "drupal.kernel.boot",
          "trace_id": 0,
          "span_id": 5,
          "parent_id": 2,
          "type": "web",
          "meta": {
            "component": "drupal"
          }
        },
        {
          "name": "drupal.httpkernel.handle",
          "service": "test_drupal_101",
          "resource": "drupal.httpkernel.handle",
          "trace_id": 0,
          "span_id": 6,
          "parent_id": 2,
          "type": "web",
          "meta": {
            "component": "drupal"
          }
        },
           {
             "name": "symfony.kernel.handle",
             "service": "test_drupal_101",
             "resource": "symfony.kernel.handle",
             "trace_id": 0,
             "span_id": 7,
             "parent_id": 6,
             "type": "web",
             "meta": {
               "component": "symfony"
             }
           },
              {
                "name": "symfony.kernel.request",
                "service": "test_drupal_101",
                "resource": "symfony.kernel.request",
                "trace_id": 0,
                "span_id": 8,
                "parent_id": 7,
                "type": "web",
                "meta": {
                  "component": "symfony"
                }
              },
              {
                "name": "symfony.kernel.controller",
                "service": "test_drupal_101",
                "resource": "symfony.kernel.controller",
                "trace_id": 0,
                "span_id": 9,
                "parent_id": 7,
                "type": "web",
                "meta": {
                  "component": "symfony"
                }
              },
              {
                "name": "symfony.kernel.controller_arguments",
                "service": "test_drupal_101",
                "resource": "symfony.kernel.controller_arguments",
                "trace_id": 0,
                "span_id": 10,
                "parent_id": 7,
                "type": "web",
                "meta": {
                  "component": "symfony"
                }
              },
              {
                "name": "symfony.controller",
                "service": "test_drupal_101",
                "resource": "Drupal\\datadog\\Controller\\DatadogController::error",
                "trace_id": 0,
                "span_id": 11,
                "parent_id": 7,
                "type": "web",
                "error": 1,
                "meta": {
                  "component": "symfony",
                  "error.message": "Thrown Exception (500): Controller error in /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/modules/datadog/src/Controller/DatadogController.php:19",
                  "error.stack": "#0 [internal function]: Drupal\\datadog\\Controller\\DatadogController->error()\n#1 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/EventSubscriber/EarlyRenderingControllerWrapperSubscriber.php(123): call_user_func_array()\n#2 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/Render/Renderer.php(592): Drupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber->Drupal\\Core\\EventSubscriber\\{closure}()\n#3 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/EventSubscriber/EarlyRenderingControllerWrapperSubscriber.php(124): Drupal\\Core\\Render\\Renderer->executeInRenderContext()\n#4 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/EventSubscriber/EarlyRenderingControllerWrapperSubscriber.php(97): Drupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber->wrapControllerExecutionInRenderContext()\n#5 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/vendor/symfony/http-kernel/HttpKernel.php(182): Drupal\\Core\\EventSubscriber\\EarlyRenderingControllerWrapperSubscriber->Drupal\\Core\\EventSubscriber\\{closure}()\n#6 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/vendor/symfony/http-kernel/HttpKernel.php(76): Symfony\\Component\\HttpKernel\\HttpKernel->handleRaw()\n#7 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/Session.php(58): Symfony\\Component\\HttpKernel\\HttpKernel->handle()\n#8 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/KernelPreHandle.php(48): Drupal\\Core\\StackMiddleware\\Session->handle()\n#9 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/ReverseProxyMiddleware.php(48): Drupal\\Core\\StackMiddleware\\KernelPreHandle->handle()\n#10 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/NegotiationMiddleware.php(51): Drupal\\Core\\StackMiddleware\\ReverseProxyMiddleware->handle()\n#11 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/StackMiddleware/StackedHttpKernel.php(51): Drupal\\Core\\StackMiddleware\\NegotiationMiddleware->handle()\n#12 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/core/lib/Drupal/Core/DrupalKernel.php(704): Drupal\\Core\\StackMiddleware\\StackedHttpKernel->handle()\n#13 /home/circleci/datadog/tests/Frameworks/Drupal/Version_10_1/index.php(19): Drupal\\Core\\DrupalKernel->handle()\n#14 {main}",
                  "error.type": "Exception"
                }
              },
              {
                "name": "symfony.kernel.handleException",
                "service": "test_drupal_101",
                "resource": "symfony.kernel.handleException",
                "trace_id": 0,
                "span_id": 12,
                "parent_id": 7,
                "type": "web",
                "meta": {
                  "component": "symfony"
                }
              },
                 {
                   "name": "symfony.kernel.exception",
                   "service": "test_drupal_101",
                   "resource": "symfony.kernel.exception",
                   "trace_id": 0,
                   "span_id": 13,
                   "parent_id": 12,
                   "type": "web",
                   "meta": {
                     "component": "symfony"
                   }
                 },
                 {
                   "name": "symfony.kernel.response",
                   "service": "test_drupal_101",
                   "resource": "symfony.kernel.response",
                   "trace_id": 0,
                   "span_id": 14,
                   "parent_id": 12,
                   "type": "web",
                   "meta": {
                     "component": "symfony"
                   }
                 },
                 {
                   "name": "symfony.kernel.finish_request",
                   "service": "test_drupal_101",
                   "resource": "symfony.kernel.finish_request",
                   "trace_id": 0,
                   "span_id": 15,
                   "parent_id": 12,
                   "type": "web",
                   "meta": {
                     "component": "symfony"
                   }
                 },
     {
       "name": "symfony.response.send",
       "service": "test_drupal_101",
       "resource": "symfony.response.send",
       "trace_id": 0,
       "span_id": 3,
       "parent_id": 1,
       "type": "web",
       "meta": {
         "component": "drupal"
       }
     },
     {
       "name": "symfony.kernel.terminate",
       "service": "test_drupal_101",
       "resource": "symfony.kernel.terminate",
       "trace_id": 0,
       "span_id": 4,
       "parent_id": 1,
       "type": "web",
       "meta": {
         "component": "symfony"
       }
     }]]
