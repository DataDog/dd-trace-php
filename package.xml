<?xml version="1.0"?>
<package packagerversion="1.9.4" version="2.0" xmlns="http://pear.php.net/dtd/package-2.0" xmlns:tasks="http://pear.php.net/dtd/tasks-1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pear.php.net/dtd/tasks-1.0 http://pear.php.net/dtd/tasks-1.0.xsd http://pear.php.net/dtd/package-2.0 http://pear.php.net/dtd/package-2.0.xsd">
    <name>datadog_trace</name>
    <channel>pecl.php.net</channel>
    <summary>APM and distributed tracing for PHP</summary>
    <description>The Datadog PHP Tracer brings APM and distributed tracing to PHP.</description>
    <lead>
        <name>Sammy Kaye Powers</name>
        <user>sammyk</user>
        <email>sammyk@php.net</email>
        <active>yes</active>
    </lead>
    <lead>
        <name>Levi Morrison</name>
        <user>levim</user>
        <email>levim@php.net</email>
        <active>yes</active>
    </lead>
    <lead>
        <name>Luca Abbati</name>
        <user>labbati</user>
        <email>luca.abbati@gmail.com</email>
        <active>yes</active>
    </lead>
    <lead>
        <name>Bob Weinand</name>
        <user>bwoebi</user>
        <email>bwoebi@php.net</email>
        <active>yes</active>
    </lead>
    <lead>
        <name>Joe Watkins</name>
        <user>krakjoe</user>
        <email>krakjoe@php.net</email>
        <active>yes</active>
    </lead>
    <!-- **Automatically updated with pecl-build script** -->
    <!-- Date only needs to be set if it was packaged on a different day from release -->
    <date>${date}</date>
    <version>
        <!-- **Automatically updated with pecl-build script** -->
        <!-- Version will be set from version.php or 0.0.0 for nightly builds (see 'tooling/bin/pecl-build') -->
        <release>${version}</release>
        <api>${version}</api>
    </version>
    <stability>
        <release>stable</release>
        <api>stable</api>
    </stability>
    <license uri="https://github.com/DataDog/dd-trace-php/blob/master/LICENSE">BSD 3-Clause</license>
    <notes>
    ### Added
    - Add B3 headers injection and extraction #1629
    - Collect http.client_ip #1621

    ### Changed
    - Filter x-datadog-tags for _dd.p. prefix and add DDTrace\add_distributed_tag #1618
    - Rename query string obfuscation variable #1630
    - Collect query string by default and obfuscate #1615
    - Update regex to account for URL encoding #1622
    - Update library versions used in tests + support plesk paths #1632
    - Remove service name propagation #1635, #1636
    - Add integration loaded output for deferred integrations on DD_TRACE_DEBUG=1 #1639
    - Reduce memory footprint of strpprintf #1640
    - New implementation for hooks #1617
    - (PHP 5) Add g1a/composer-test-scenarios and symfony/flex to composer allow-plugin list #1647

    ### Fixed
    - Fix crash with numerical value in $_SERVER array #1634
    - Fix missing query string on http.url from integrations #1642

    ### Internal changes
    - Add link to compatibility requirements in README.md #1610
    - Manually build PHP for randomized tests images #1616
    - Eliminate PHP 5 references from master #1626
    - Remove PHP 5 from CI and fetch it instead from the latest PHP-5 branch build #1624
    - Fix test_web on PHP 8.0 #1631
    - Add g1a/composer-test-scenarios and symfony/flex to composer allow-plugin list #1637
    - (PHP 5) Run Wordpress testsuite actually against PHP 5 #1638
    - Test debian bullseye instead of stretch in CI #1644
    - Update rel env to use 0.75.0 (#1620)
    - Disable clang format check in CI #1619
    - Add one more allow-plugins in root composer.json #1646
    - (PHP 5) Add g1a/composer-test-scenarios and symfony/flex to composer allow-plugin list #1647

    ## Profiling (v0.7.0)
    # Changed
    - Do not upload empty profiles. See DataDog/dd-prof-php@e03ff23e5216f863061285e13170d011d0c04bc8 for details.

    # Fixed
    - Fix a small memory leak with env var handling.

    # Added
    - Add SAPI as profile tag.
    - Add support for `DD_PROFILING_EXPERIMENTAL_CPU_TIME_ENABLED` env var. It previously supported this functionality under a different, undocumented name.
    </notes>
    <contents>
        <dir name="/">
            <!-- code and test files -->${codefiles}
            <file name="config.m4" role="src" />
            <file name="ddtrace.sym" role="src" />

            <!-- Docs -->
            <file name="CHANGELOG.md" role="doc" />
            <file name="LICENSE" role="doc" />
            <file name="LICENSE.Apache" role="doc" />
            <file name="LICENSE.BSD3" role="doc" />
            <file name="NOTICE" role="doc" />
            <file name="README.md" role="doc" />
            <file name="UPGRADE-0.10.md" role="doc" />

            <!-- PHP files -->
            <!-- Include any files from ./bridge that are not referenced in ./bridge/_files.php -->
            <!-- Make sure to update <filelist> below too -->
            <file name="bridge/_generated_api.php" role="php" />
            <file name="bridge/_generated_integrations.php" role="php" />
            <file name="bridge/_generated_tracer.php" role="php" />
            <file name="bridge/_generated_tracer_api.php" role="php" />
            <file name="bridge/autoload.php" role="php" />
            <file name="bridge/dd_init.php" role="php" />
            <file name="bridge/dd_register_optional_deps_autoloader.php" role="php" />
            <file name="bridge/dd_wrap_autoloader.php" role="php" />
        </dir>
    </contents>
    <dependencies>
        <required>
            <php>
                <min>7.0</min>
                <max>8.1.99</max>
            </php>
            <pearinstaller>
                <min>1.4.0</min>
            </pearinstaller>
            <extension>
                <name>json</name>
            </extension>
        </required>
    </dependencies>
    <providesextension>ddtrace</providesextension>
    <extsrcrelease>
        <filelist>
            <install as="datadog_trace/bridge/_generated_api.php" name="bridge/_generated_api.php" />
            <install as="datadog_trace/bridge/_generated_integrations.php" name="bridge/_generated_integrations.php" />
            <install as="datadog_trace/bridge/_generated_tracer.php" name="bridge/_generated_tracer.php" />
            <install as="datadog_trace/bridge/_generated_tracer_api.php" name="bridge/_generated_tracer_api.php" />
            <install as="datadog_trace/bridge/autoload.php" name="bridge/autoload.php" />
            <install as="datadog_trace/bridge/dd_init.php" name="bridge/dd_init.php" />
            <install as="datadog_trace/bridge/dd_register_optional_deps_autoloader.php" name="bridge/dd_register_optional_deps_autoloader.php" />
            <install as="datadog_trace/bridge/dd_wrap_autoloader.php" name="bridge/dd_wrap_autoloader.php" />
        </filelist>
    </extsrcrelease>
</package>
